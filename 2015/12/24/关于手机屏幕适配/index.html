<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  
  <title>关于手机屏幕适配 | 云极客前端技术文档</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  
    <meta name="author" content="John Doe">
  
  
    <meta name="description" content="设备本身的适配策略ios和Android的适配策略是不一样的。
对于ios,一个设备含有越多的逻辑像素，那么这个设备也就越大，换句话说，ios的逻辑像素可以作为一个物理长度单位。应用的场景是这样的，用px单位设置了一个元素的大小，这个元素在不同大小的ios设备下实际上是一样大的。所以ios策略是更大的屏幕是为了显示更多的内容。暂且将它称之为更多内容策略。
然而对于Android设备，大致的情况是不">
  
  <meta name="description" content="设备本身的适配策略ios和Android的适配策略是不一样的。
对于ios,一个设备含有越多的逻辑像素，那么这个设备也就越大，换句话说，ios的逻辑像素可以作为一个物理长度单位。应用的场景是这样的，用px单位设置了一个元素的大小，这个元素在不同大小的ios设备下实际上是一样大的。所以ios策略是更大的屏幕是为了显示更多的内容。暂且将它称之为更多内容策略。
然而对于Android设备，大致的情况是不">
<meta property="og:type" content="article">
<meta property="og:title" content="关于手机屏幕适配">
<meta property="og:url" content="http://ycode-front.github.io/2015/12/24/关于手机屏幕适配/index.html">
<meta property="og:site_name" content="云极客前端技术文档">
<meta property="og:description" content="设备本身的适配策略ios和Android的适配策略是不一样的。
对于ios,一个设备含有越多的逻辑像素，那么这个设备也就越大，换句话说，ios的逻辑像素可以作为一个物理长度单位。应用的场景是这样的，用px单位设置了一个元素的大小，这个元素在不同大小的ios设备下实际上是一样大的。所以ios策略是更大的屏幕是为了显示更多的内容。暂且将它称之为更多内容策略。
然而对于Android设备，大致的情况是不">
<meta property="og:updated_time" content="2015-12-24T13:42:56.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="关于手机屏幕适配">
<meta name="twitter:description" content="设备本身的适配策略ios和Android的适配策略是不一样的。
对于ios,一个设备含有越多的逻辑像素，那么这个设备也就越大，换句话说，ios的逻辑像素可以作为一个物理长度单位。应用的场景是这样的，用px单位设置了一个元素的大小，这个元素在不同大小的ios设备下实际上是一样大的。所以ios策略是更大的屏幕是为了显示更多的内容。暂且将它称之为更多内容策略。
然而对于Android设备，大致的情况是不">
  
    <link rel="alternate" href="/atom.xml" title="云极客前端技术文档" type="application/atom+xml">
  
  
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
</head>

<body>
  <div class="wrapper">
    <header id="header">
  <div class="title">
    <h1><a href="/">云极客前端技术文档</a></h1>
    <p><a href="/">专注前端100年</a></p>
  </div>
  <nav class="nav">
    <ul>
      
        <li><a href="/categories/前端规范/">前端规范</a></li>
      
        <li><a href="/categories/文章/">文章</a></li>
      
        <li><a href="/categories/less图标库/">less图标库</a></li>
      
        <li><a href="/2015/12/07/文档系统使用手册/">使用我</a></li>
      
      
        <li><a href="/atom.xml">RSS</a></li>
      
    </ul>
    <div class="clearfix"></div>
  </nav>
  <div class="clearfix"></div>
</header>
    <div class="content"><article class="post">
  <header>
    
      <div class="icon"></div>
      <a href="/2015/12/24/关于手机屏幕适配/">
  <time datetime="2015-12-24T13:28:28.000Z">
    2015-12-24
  </time>
</a>
    
    
  
    <h1 class="title">关于手机屏幕适配</h1>
  

  </header>
  
  <div class="entry">
    
      <h2 id="设备本身的适配策略">设备本身的适配策略</h2><p>ios和Android的适配策略是不一样的。</p>
<p>对于ios,一个设备含有越多的<a href="https://www.baidu.com/s?ie=UTF-8&amp;wd=%E9%80%BB%E8%BE%91%E5%83%8F%E7%B4%A0" target="_blank" rel="external">逻辑像素</a>，那么这个设备也就越大，换句话说，ios的逻辑像素可以作为一个物理长度单位。应用的场景是这样的，用px单位设置了一个元素的大小，这个元素在不同大小的ios设备下实际上是一样大的。所以ios策略是更大的屏幕是为了显示更多的内容。暂且将它称之为<strong><em>更多内容策略</em></strong>。</p>
<p>然而对于Android设备，大致的情况是不管设备大小，包含的逻辑像素宽度都是360px。用px单位设置一个元素的大小，设备越大，它在设备上呈现的也等比变大。所以Android的策略是，屏幕越大是为了让内容看起来更大。暂且称之为<strong><em>更大内容策略</em></strong>。</p>
<p>我认为ios的策略更为合理。但是由于我们无法获取设备的物理尺寸大小，所以也就没有办法在Android的设备上面模拟ios的适配策略。我决定就在ios的设备上面执行ios的<strong><em>更多内容策略</em></strong>，而在Android的设备上执行<strong><em>更大内容策略</em></strong>。</p>
<h2 id="ios的适配的策略实现">ios的适配的策略实现</h2><p>根据<strong><em>更多内容策略</em></strong>，我们会遇到两种情况</p>
<p>第一种是元素大小不随设备屏幕变大而变大，比如屏幕、图标、导航栏等，因为我们需要为用户呈现更多的内容，这个时候使用的单位是px。</p>
<p>第二种情况，元素的大小需要随着设备的变大而变化。这种情况一般作用于容器元素。因为屏幕变大了，容器如果还是一样的大小就不符合<strong><em>更多内容策略</em></strong>这种情况比较复杂， 下面我们详细讨论这种情况下的解决方案。</p>
<h3 id="百分比">百分比</h3><p><strong><em>百分比</em></strong>这个单位是参照父元素大小的相对单位。其实百分比可以解决大部分问题。</p>
<p>我需要一个占据整个屏幕大小的容器，下面的代码可以完美解决<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.container</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">width</span>:<span class="value"><span class="number">100%</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value"><span class="number">100%</span></span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure></p>
<p>又或者我需要一个占据屏幕百分之五十的内容弹窗，至于高度就由内容决定吧<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.dialog</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">width</span>:<span class="value"><span class="number">50%</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value">auto</span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure></p>
<p>对了它得居中，这也没什么问题<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.dialog</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">width</span>:<span class="value"><span class="number">50%</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value">auto</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">margin-left</span>:<span class="value">-<span class="number">25%</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">left</span>:<span class="value"><span class="number">50%</span></span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure></p>
<p>但是，如何涉及到高度，百分比的问题就显现出来了。比如我想让上面的弹窗的高度为屏幕高度的60%，至于内容过多就让它内部滚动吧；<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.dialog</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">width</span>:<span class="value"><span class="number">50%</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value">auto</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">margin-left</span>:<span class="value">-<span class="number">25%</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">left</span>:<span class="value"><span class="number">50%</span></span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value"><span class="number">60%</span></span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure></p>
<p>似乎也没有什么问题，但是，如果我想让它上下居中<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.dialog</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">width</span>:<span class="value"><span class="number">50%</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">margin-left</span>:<span class="value">-<span class="number">25%</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">left</span>:<span class="value"><span class="number">50%</span></span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value"><span class="number">60%</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">margin-top</span>:<span class="value">-<span class="number">30%</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">top</span>:<span class="value"><span class="number">50%</span></span></span>;    </span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure></p>
<p>无奈的发现它并没有居中，问题就出在maring-top 百分比所参照的是父级元素的宽度而不是高度。终于发现了一个<strong><em>百分比</em></strong>无能为力的一个点了。</p>
<p>改变一下需求，我们需要一个正方形的弹窗，弹窗的宽度还是要求50%；<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.dialog</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">width</span>:<span class="value"><span class="number">50%</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">margin-left</span>:<span class="value">-<span class="number">25%</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">left</span>:<span class="value"><span class="number">50%</span></span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value"> ?%</span></span>; </span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure></p>
<p>我们试着做了，但是他的高度应该是多少呢，确实<strong><em>百分比</em></strong>无能为力了。</p>
<h3 id="vw_&amp;_vh">vw &amp; vh</h3><p>vw 是将当前屏幕的宽度分为一百份之后的长度</p>
<p>wh 是将当前屏幕的高度分为一百份之后的长度</p>
<p>这几乎是对<strong><em>百分比</em></strong>方案的完美补充了。针对上面<strong><em>百分比</em></strong>无能为力的两个点，vw 和 vh 都能应对。</p>
<p>百分比高度元素的垂直居中<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.dialog</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">width</span>:<span class="value"><span class="number">50%</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">margin-left</span>:<span class="value">-<span class="number">25%</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">left</span>:<span class="value"><span class="number">50%</span></span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value"><span class="number">60vh</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">margin-top</span>:<span class="value">-vh</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">top</span>:<span class="value"><span class="number">50%</span></span></span>;    </span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure></p>
<p>百分比宽度元素固定长宽比例<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.dialog</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">width</span>:<span class="value"><span class="number">50vw</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">margin-left</span>:<span class="value">-<span class="number">25vw</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">left</span>:<span class="value"><span class="number">50%</span></span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">50vw</span></span></span>; </span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure></p>
<p>但是遗憾的是 vw 和 vh 存在着<a href="http://caniuse.com/#search=vm" target="_blank" rel="external">不可忽视的兼容新问题</a>;</p>
<h3 id="用rem模仿_vw_&amp;_vh">用rem模仿 vw &amp; vh</h3><p>rem只能模仿 vw 和 vh 中的一个。因为一般比较常用的是vw，所以我们把 rem 当做 vw 使用。</p>
<p>可以使用脚本计算 html 的 rem，代码如下</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> deviceWidth = <span class="built_in">window</span>.screen.width;</span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">'html'</span>).style.fontSize = (deviceWidth)+<span class="string">'px'</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.dialog</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">0.5</span> rem</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">margin-left</span>:<span class="value"> -<span class="number">0.25</span> rem</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">left</span>:<span class="value"> <span class="number">50%</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">0.25</span> rem</span></span>; </span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="用脚本实现">用脚本实现</h3><p>有极少数布局上的问题 css似乎无能为力了。这个适合只能依靠万能的脚本了。</p>

    
  </div>
  <footer>
    
      
  <div class="categories">
    <a class="categories-link" href="/categories/文章/">文章</a>
  </div>

      
    
    <div class="clearfix"></div>
  </footer>
</article>


 <section id="comment">
    <!-- 多说评论框 start -->
    <div class="ds-thread" data-thread-key="post-关于手机屏幕适配" data-title="关于手机屏幕适配" data-url="http://ycode-front.github.io/2015/12/24/关于手机屏幕适配/"></div>
    <!-- 多说评论框 end -->
    <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
    <script type="text/javascript">
    var duoshuoQuery = {short_name:'undefined'};
      (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0] 
         || document.getElementsByTagName('body')[0]).appendChild(ds);
      })();
      </script>
    <!-- 多说公共JS代码 end -->
  </section>
</div>
  </div>
  <footer id="footer"><div class="copyright">
<div id="footer-copyright">Copyright © 2015 版权所有 <br><a href="http://www.ycode.cn/index.html" target="_blank">苏州云极客信息技术有限公司</a> 苏ICP备14040797
                </div>
<div class="clearfix"></div></footer>
  <script src="//cdn.bootcss.com/jquery/1.8.0/jquery.min.js"></script>
<script src="/js/scale.fix.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<script type="text/javascript">
  var duoshuoQuery = { short_name: 'ycode-front' };
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';
    ds.async = true;
    ds.src = 'http://static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
  (function($){
    $('.fancybox').fancybox();
  })(jQuery);
</script>

</body>
</html>